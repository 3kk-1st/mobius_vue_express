(function(e){function n(n){for(var t,s,r=n[0],a=n[1],l=n[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);u&&u(n);while(p.length)p.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,n=0;n<i.length;n++){for(var o=i[n],t=!0,r=1;r<o.length;r++){var a=o[r];0!==c[a]&&(t=!1)}t&&(i.splice(n--,1),e=s(s.s=o[0]))}return e}var t={},c={app:0},i=[];function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,n,o){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)s.d(o,t,function(n){return e[n]}.bind(null,t));return o},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var u=a;i.push([0,"chunk-vendors"]),o()})({0:function(e,n,o){e.exports=o("56d7")},"034f":function(e,n,o){"use strict";o("85ec")},1:function(e,n){},2:function(e,n){},3:function(e,n){},4:function(e,n){},5:function(e,n){},"56d7":function(e,n,o){"use strict";o.r(n);o("e260"),o("e6cf"),o("cca6"),o("a79d");var t=o("2b0e"),c=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},i=[],s={name:"App",components:{}},r=s,a=(o("034f"),o("2877")),l=Object(a["a"])(r,c,i,!1,null,null,null),u=l.exports,d=o("8c4f"),p=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{attrs:{id:"container"}},[o("Mqtt"),o("d3-network",{attrs:{"net-nodes":e.nodes,"net-links":e.links,options:e.options}})],1)},f=[],h=o("53ca"),g=(o("159b"),o("8f40"),o("acef"),o("07ac"),o("a5b7")),m=o.n(g),v=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{attrs:{id:"mqtt-container"}},[o("div",{staticClass:"flex-config"},[o("div",{staticClass:"flex-config-input"},[o("p",[e._v("Host")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"localhost"},domProps:{value:e.message},on:{input:function(n){n.target.composing||(e.message=n.target.value)}}})]),o("div",{staticClass:"flex-config-input"},[o("p",[e._v("Port")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"9001"},domProps:{value:e.message},on:{input:function(n){n.target.composing||(e.message=n.target.value)}}})]),o("div",{staticClass:"flex-config-input"},[o("p",[e._v("Mountpoint")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"/mqtt"},domProps:{value:e.message},on:{input:function(n){n.target.composing||(e.message=n.target.value)}}})])])])},b=[],w=o("15fd"),y=(o("99af"),o("d3b7"),o("25f0"),o("e7fc")),x=o.n(y),O=["host","port","endpoint"],_={name:"Mqtt",data:function(){return{connection:{host:"192.168.0.130",port:9001,endpoint:"",clean:!0,connectTimeout:4e3,reconnectPeriod:4e3,clientId:"",username:"",password:""},subscription:{topic:"topic/mqttx",qos:0},publish:{topic:"topic/mqttx",qos:0,payload:'{ "msg": "Hello, I am browser." }'},receiveNews:"",qosList:[{label:0,value:0},{label:1,value:1},{label:2,value:2}],client:{connected:!1},subscribeSuccess:!1}},methods:{createConnection:function(){var e=this,n=this.connection,o=n.host,t=n.port,c=n.endpoint,i=Object(w["a"])(n,O),s="ws://".concat(o,":").concat(t).concat(c);try{console.log(i),this.client=x.a.connect(s)}catch(r){console.log("mqtt.connect error",r)}this.client.on("connect",(function(){console.log("Connection succeeded!")})),this.client.on("error",(function(e){console.log("Connection failed",e)})),this.client.on("message",(function(n,o){e.receiveNews=e.receiveNews.concat(o),console.log("Received message ".concat(o," from topic ").concat(n))}))},doSubscribe:function(){var e=this,n=this.subscription,o=n.topic,t=n.qos;this.client.subscribe(o,t,(function(n,o){n?console.log("Subscribe to topics error",n):(e.subscribeSuccess=!0,console.log("Subscribe to topics res",o))}))},doUnSubscribe:function(){var e=this.subscription.topic;this.client.unsubscribe(e,(function(e){e&&console.log("Unsubscribe error",e)}))},doPublish:function(){var e=this.publish,n=e.topic,o=e.qos,t=e.payload;this.client.publish(n,t,o,(function(e){e&&console.log("Publish error",e)}))},destroyConnection:function(){if(this.client.connected)try{this.client.end(),this.client={connected:!1},console.log("Successfully disconnected!")}catch(e){console.log("Disconnect failed",e.toString())}}}},j=_,S=(o("d3c1"),Object(a["a"])(j,v,b,!1,null,"d888ebbc",null)),P=S.exports,q={components:{D3Network:m.a,Mqtt:P},data:function(){return{nodes:[{id:1,name:"Mobius Server",_cssClass:"node pinned",pinned:!0,fx:window.innerWidth/2,fy:window.innerHeight/2}],links:[],rawCnt:[],options:{force:3e3,nodeSize:20,nodeLabels:!0,linkWidth:5}}},created:function(){var e=this;this.$http.get("/api/mob_cnt").then((function(n){console.log(Object(h["a"])(n.data)),console.log(n.data),n.data.forEach((function(n){console.log(n.ri),e.rawCnt.push(n.ri),e.addNode(1,n.ri)}))})),console.log("right here"),console.log(this.rawCnt),console.log(this.nodes),console.log("done")},computed:{customForces:function(){return{X:-500,Y:-500,ManyBody:!0}}},methods:{addLink:function(e,n){var o=this;o.links.push({sid:e,tid:n})},addNode:function(e,n){var o=this,t=this.nodes.at(-1)["id"];t+=1,o.nodes.push({id:t,name:n}),o.addLink(e,t)},formatCnt:function(e){var n=this;console.log("hi");var o=e.length;console.log(o),console.log(Object(h["a"])(e)),console.log(e),console.log(Object.values(e));for(var t=0;t<o;t++)console.log(t),console.log(e[t]);e.forEach((function(e){console.log("inside"),console.log(e),console.log(e.ri),n.addNode(1,e.ri)})),console.log(n.nodes)}}},C=q,k=(o("6420"),Object(a["a"])(C,p,f,!1,null,null,null)),M=k.exports;t["a"].use(d["a"]);var N=new d["a"]({mode:"history",routes:[{path:"/",name:"graph",component:M}]}),$=o("bc3a"),E=o.n($);t["a"].config.productionTip=!1,t["a"].prototype.$http=E.a,t["a"].config.devtools=!0,new t["a"]({render:function(e){return e(u)},router:N}).$mount("#app")},6:function(e,n){},"85ec":function(e,n,o){},"90ac":function(e,n,o){},d3c1:function(e,n,o){"use strict";o("90ac")}});
//# sourceMappingURL=app.54506bd9.js.map